<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/mobile_app_project/ui/navigation/NavGraph.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/mobile_app_project/ui/navigation/NavGraph.kt" />
              <option name="originalContent" value="package com.example.mobile_app_project.ui.navigation&#10;&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.runtime.remember&#10;import androidx.navigation.NavHostController&#10;import androidx.navigation.compose.NavHost&#10;import androidx.navigation.compose.composable&#10;import androidx.navigation.navArgument&#10;import androidx.navigation.NavType&#10;import com.example.mobile_app_project.ui.screens.detail.DetailScreen&#10;import com.example.mobile_app_project.ui.screens.home.HomeScreen&#10;import com.example.mobile_app_project.ui.screens.settings.SettingsScreen&#10;import com.example.mobile_app_project.data.local.UserPreferences&#10;import com.example.mobile_app_project.data.repository.WeatherRepository&#10;import com.example.mobile_app_project.viewmodel.WeatherViewModel&#10;&#10;/**&#10; * Navigation destinations and placeholder for future NavHost.&#10; */&#10;object NavigationDestinations {&#10;    const val HOME = &quot;home&quot;&#10;    const val DETAIL = &quot;detail&quot;&#10;    const val SETTINGS = &quot;settings&quot;&#10;}&#10;&#10;@Composable&#10;fun AppNavGraph(navController: NavHostController) {&#10;    val context = LocalContext.current&#10;    val viewModel = remember { WeatherViewModel(WeatherRepository(), UserPreferences(context)) }&#10;&#10;    NavHost(navController = navController, startDestination = NavigationDestinations.HOME) {&#10;        composable(NavigationDestinations.HOME) { HomeScreen(navController, viewModel) }&#10;        composable(&#10;            route = NavigationDestinations.DETAIL + &quot;?data={data}&quot;,&#10;            arguments = listOf(&#10;                navArgument(&quot;data&quot;) { type = NavType.StringType; defaultValue = &quot;&quot; }&#10;            )&#10;        ) { backStackEntry -&gt;&#10;            val jsonData = backStackEntry.arguments?.getString(&quot;data&quot;) ?: &quot;&quot;&#10;            DetailScreen(jsonData)&#10;        }&#10;        composable(NavigationDestinations.SETTINGS) { SettingsScreen() }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.mobile_app_project.ui.navigation&#10;&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.runtime.remember&#10;import androidx.navigation.NavHostController&#10;import androidx.navigation.compose.NavHost&#10;import androidx.navigation.compose.composable&#10;import androidx.navigation.navArgument&#10;import androidx.navigation.NavType&#10;import com.example.mobile_app_project.ui.screens.detail.DetailScreen&#10;import com.example.mobile_app_project.ui.screens.home.HomeScreen&#10;import com.example.mobile_app_project.ui.screens.settings.SettingsScreen&#10;import com.example.mobile_app_project.data.local.UserPreferences&#10;import com.example.mobile_app_project.data.repository.WeatherRepository&#10;import com.example.mobile_app_project.viewmodel.WeatherViewModel&#10;import com.example.mobile_app_project.viewmodel.SettingsViewModel&#10;&#10;/**&#10; * Navigation destinations and placeholder for future NavHost.&#10; */&#10;object NavigationDestinations {&#10;    const val HOME = &quot;home&quot;&#10;    const val DETAIL = &quot;detail&quot;&#10;    const val SETTINGS = &quot;settings&quot;&#10;}&#10;&#10;@Composable&#10;fun AppNavGraph(navController: NavHostController) {&#10;    val context = LocalContext.current&#10;    val weatherViewModel = remember { WeatherViewModel(WeatherRepository(), UserPreferences(context)) }&#10;    val settingsViewModel = remember { SettingsViewModel(UserPreferences(context)) }&#10;&#10;    NavHost(navController = navController, startDestination = NavigationDestinations.HOME) {&#10;        composable(NavigationDestinations.HOME) { HomeScreen(navController, weatherViewModel) }&#10;        composable(&#10;            route = NavigationDestinations.DETAIL + &quot;?data={data}&quot;,&#10;            arguments = listOf(&#10;                navArgument(&quot;data&quot;) { type = NavType.StringType; defaultValue = &quot;&quot; }&#10;            )&#10;        ) { backStackEntry -&gt;&#10;            val jsonData = backStackEntry.arguments?.getString(&quot;data&quot;) ?: &quot;&quot;&#10;            DetailScreen(jsonData)&#10;        }&#10;        composable(NavigationDestinations.SETTINGS) { SettingsScreen(navController, settingsViewModel) }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/mobile_app_project/ui/screens/settings/SettingsScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/mobile_app_project/ui/screens/settings/SettingsScreen.kt" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="package com.example.mobile_app_project.ui.screens.settings&#10;&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.fillMaxSize&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.material3.Button&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.collectAsState&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.unit.dp&#10;import androidx.navigation.NavController&#10;import com.example.mobile_app_project.viewmodel.SettingsViewModel&#10;&#10;@Composable&#10;fun SettingsScreen(&#10;    navController: NavController,&#10;    viewModel: SettingsViewModel&#10;) {&#10;    val lastCity by viewModel.lastCityFlow.collectAsState(initial = null)&#10;&#10;    Column(&#10;        modifier = Modifier.fillMaxSize().padding(16.dp),&#10;        verticalArrangement = Arrangement.spacedBy(12.dp),&#10;        horizontalAlignment = Alignment.Start&#10;    ) {&#10;        Text(text = &quot;Poslední město: ${lastCity ?: &quot;(není uložené)&quot;}&quot;)&#10;&#10;        Button(onClick = { viewModel.clearLastCity() }) {&#10;            Text(&quot;Vymazat poslední město&quot;)&#10;        }&#10;&#10;        Button(onClick = { navController.navigateUp() }) {&#10;            Text(&quot;Zpět&quot;)&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/mobile_app_project/viewmodel/SettingsViewModel.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/mobile_app_project/viewmodel/SettingsViewModel.kt" />
              <option name="originalContent" value="package com.example.mobile_app_project.viewmodel&#10;&#10;/**&#10; * Skeleton for Settings screen ViewModel.&#10; */&#10;class SettingsViewModel {&#10;    // TODO: implement state and actions&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.mobile_app_project.viewmodel&#10;&#10;import androidx.lifecycle.ViewModel&#10;import androidx.lifecycle.viewModelScope&#10;import com.example.mobile_app_project.data.local.UserPreferences&#10;import kotlinx.coroutines.flow.Flow&#10;import kotlinx.coroutines.launch&#10;&#10;/**&#10; * Skeleton for Settings screen ViewModel.&#10; */&#10;class SettingsViewModel(private val preferences: UserPreferences) : ViewModel() {&#10;&#10;    val lastCityFlow: Flow&lt;String?&gt; = preferences.observeLastCityName()&#10;&#10;    fun clearLastCity() {&#10;        viewModelScope.launch {&#10;            preferences.saveLastCityName(&quot;&quot;)&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>